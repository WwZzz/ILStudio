# çµæ´»æ•°æ®é›†é…ç½®ç³»ç»Ÿ - æ€»ç»“

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›

âœ… **ç§»é™¤äº†å…¨å±€é…ç½®æ¦‚å¿µ** - æ¯ä¸ªæ•°æ®é›†éƒ½æœ‰ç‹¬ç«‹ã€å®Œæ•´çš„é…ç½®  
âœ… **åŠ¨æ€ç±»åŠ è½½** - æ”¯æŒä»»æ„æ¨¡å—è·¯å¾„çš„æ•°æ®é›†ç±»  
âœ… **å¤šæ•°æ®é›†æ”¯æŒ** - ä¸€ä¸ªä»»åŠ¡å¯ä»¥ä½¿ç”¨å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®é›†  
âœ… **å®Œå…¨å‘åå…¼å®¹** - ç°æœ‰é…ç½®æ— éœ€ä¿®æ”¹  
âœ… **çµæ´»å‚æ•°é…ç½®** - æ¯ä¸ªæ•°æ®é›†å¯ä»¥æœ‰å®Œå…¨ä¸åŒçš„æ„é€ å‚æ•°  

## ğŸ“ æ–°é…ç½®æ ¼å¼

### åŸºæœ¬ç»“æ„
```yaml
datasets:
  - name: "dataset_name"
    class: "module.path.ClassName"
    args:
      # å®Œæ•´çš„æ•°æ®é›†å‚æ•°
      dataset_path_list: ['path/to/data']  # EpisodicDataset ä½¿ç”¨ dataset_path_list
      camera_names: ['primary']
      ctrl_space: 'ee'
      ctrl_type: 'delta'
      chunk_size: 64
      # ä»»ä½•è‡ªå®šä¹‰å‚æ•°...

# ä»»åŠ¡å‚æ•°
action_dim: 14
state_dim: 14
```

### å¤šæ•°æ®é›†ç¤ºä¾‹
```yaml
datasets:
  # ä»¿çœŸæ•°æ®
  - name: "sim_data"
    class: "AlohaSimDataset"
    args:
      dataset_path_list: ['data/sim']
      camera_names: ['primary']
      chunk_size: 64
      ctrl_space: 'joint'
      ctrl_type: 'abs'

  # çœŸå®æ•°æ®
  - name: "real_data"
    class: "EpisodicDataset"
    args:
      dataset_path_list: ['data/real']
      camera_names: ['primary', 'wrist']
      chunk_size: 100
      ctrl_space: 'ee'
      ctrl_type: 'delta'

  # è‡ªå®šä¹‰æ•°æ®é›†
  - name: "custom_data"
    class: "my_module.MyCustomDataset"
    args:
      data_path: 'data/custom'
      custom_param: 'value'
```

## ğŸ”§ å®ç°ç‰¹æ€§

### 1. åŠ¨æ€ç±»åŠ è½½
- **å®Œæ•´è·¯å¾„**: `data_utils.datasets.rlds_wrapper.WrappedTFDSDataset`
- **ç®€å†™**: `EpisodicDataset` â†’ `data_utils.datasets.EpisodicDataset`
- **è‡ªå®šä¹‰æ¨¡å—**: `my_package.MyDataset`

### 2. ç‹¬ç«‹é…ç½®
- æ¯ä¸ªæ•°æ®é›†å¿…é¡»åŒ…å«å®Œæ•´çš„é…ç½®å‚æ•°
- ä¸ä¾èµ–å…¨å±€é…ç½®ï¼Œé¿å…éšå¼ç»§æ‰¿
- é…ç½®æ¸…æ™°æ˜ç¡®ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤

### 3. å‘åå…¼å®¹
- è‡ªåŠ¨æ£€æµ‹é…ç½®æ ¼å¼ï¼ˆæ˜¯å¦åŒ…å« `datasets` é”®ï¼‰
- ä¼ ç»Ÿæ ¼å¼å®Œå…¨ä¿æŒåŸæœ‰è¡Œä¸º
- é›¶ç ´åæ€§å‡çº§

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶

- **`data_utils/utils.py`**: ä¸»è¦å®ç°é€»è¾‘
- **`configs/task/flexible_dataset_example.yaml`**: åŸºæœ¬ç”¨æ³•ç¤ºä¾‹
- **`configs/task/mixed_datasets_example.yaml`**: å¤šæ•°æ®é›†æ··åˆç¤ºä¾‹
- **`configs/task/backward_compatible_example.yaml`**: ä¼ ç»Ÿæ ¼å¼ç¤ºä¾‹
- **`data_utils/dataset_config_examples.md`**: å®Œæ•´æ–‡æ¡£

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ–°é¡¹ç›®
ç›´æ¥ä½¿ç”¨æ–°çš„çµæ´»æ ¼å¼ï¼Œæ¯ä¸ªæ•°æ®é›†ç‹¬ç«‹é…ç½®ã€‚

### ç°æœ‰é¡¹ç›®
1. **æ— éœ€ä¿®æ”¹**: ç°æœ‰é…ç½®ç»§ç»­æ­£å¸¸å·¥ä½œ
2. **æ¸è¿›è¿ç§»**: å¯ä»¥é€æ­¥è¿ç§»åˆ°æ–°æ ¼å¼
3. **æ··åˆä½¿ç”¨**: ä¸åŒä»»åŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒæ ¼å¼

## âœ¨ ä¼˜åŠ¿

1. **æ¸…æ™°æ€§**: æ¯ä¸ªæ•°æ®é›†é…ç½®ä¸€ç›®äº†ç„¶ï¼Œæ— éšå¼ä¾èµ–
2. **çµæ´»æ€§**: æ”¯æŒä»»æ„æ•°æ®é›†ç±»å’Œå‚æ•°ç»„åˆ
3. **å¯ç»´æŠ¤æ€§**: é…ç½®ç‹¬ç«‹ï¼Œä¿®æ”¹ä¸€ä¸ªä¸å½±å“å…¶ä»–
4. **æ‰©å±•æ€§**: æ·»åŠ æ–°æ•°æ®é›†ç±»å‹åªéœ€æŒ‡å®šç±»è·¯å¾„
5. **å…¼å®¹æ€§**: å®Œå…¨å‘åå…¼å®¹ï¼Œé›¶é£é™©å‡çº§

è¿™ä¸ªå®ç°å®Œå…¨æ»¡è¶³äº†ä½ çš„éœ€æ±‚ï¼šç§»é™¤äº†ä¸åˆç†çš„å…¨å±€é…ç½®ï¼Œæ¯ä¸ªæ•°æ®é›†éƒ½æœ‰ç‹¬ç«‹ã€å®Œæ•´çš„é…ç½®ï¼ŒåŒæ—¶ä¿æŒäº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå…¼å®¹æ€§ã€‚
